<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>'Android Styling: prefer theme attributes' 번역 - 일편단씸의 블로그</title><meta name=Description content="할 수 있다! 알고 개발, 알고 투자"><meta property="og:title" content="'Android Styling: prefer theme attributes' 번역"><meta property="og:description" content="theme을 잘 활용합시다."><meta property="og:type" content="article"><meta property="og:url" content="https://mechurak.github.io/2021-02-27_prefer-theme-attributes/"><meta property="og:image" content="https://mechurak.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-02-27T01:01:00+09:00"><meta property="article:modified_time" content="2021-02-27T01:01:00+09:00"><meta property="og:site_name" content="일편단씸의 블로그"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://mechurak.github.io/logo.png"><meta name=twitter:title content="'Android Styling: prefer theme attributes' 번역"><meta name=twitter:description content="theme을 잘 활용합시다."><meta name=application-name content="DoIt"><meta name=apple-mobile-web-app-title content="DoIt"><meta name=theme-color content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=canonical href=https://mechurak.github.io/2021-02-27_prefer-theme-attributes/><link rel=prev href=https://mechurak.github.io/2021-02-27_halto-485/><link rel=next href=https://mechurak.github.io/2021-04-05_app-startup-time/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/color.css><link rel=stylesheet href=/css/style.min.css><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/fontawesome-free/all.min.css><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/animate/animate.min.css><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"'Android Styling: prefer theme attributes' 번역","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/mechurak.github.io\/2021-02-27_prefer-theme-attributes\/"},"genre":"posts","keywords":"android, theme","wordcount":800,"url":"https:\/\/mechurak.github.io\/2021-02-27_prefer-theme-attributes\/","datePublished":"2021-02-27T01:01:00+09:00","dateModified":"2021-02-27T01:01:00+09:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"일편단씸"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>function setTheme(e){document.body.setAttribute("theme",e),document.documentElement.style.setProperty("color-scheme",e==="light"?"light":"dark")}function saveTheme(e){window.localStorage&&localStorage.setItem("theme",e)}function getMeta(e){const t=document.getElementsByTagName("meta");for(let n=0;n<t.length;n++)if(t[n].getAttribute("name")===e)return t[n];return""}if(window.localStorage&&localStorage.getItem("theme")){let e=localStorage.getItem("theme");e==="light"||e==="dark"||e==="black"?setTheme(e):setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}else"light"==="light"||"light"==="dark"||"light"==="black"?(setTheme("light"),saveTheme("light")):(saveTheme("auto"),setTheme(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));let metaColors={light:"#f8f8f8",dark:"#252627",black:"#000000"};getMeta("theme-color").content=metaColors[document.body.getAttribute("theme")]</script><div id=back-to-top></div><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="일편단씸의 블로그"><span class=header-title-pre><i class='far fa-edit fa-fw'></i></span>일편단씸의 블로그</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><a class=menu-item href=/series/>Series </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=# class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=# class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span>
</span><a href=# class="menu-item theme-select" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i>
<select class=color-theme-select id=theme-select-desktop title="Switch Theme"><option value=light>Light</option><option value=dark>Dark</option><option value=black>Black</option><option value=auto>Auto</option></select></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="일편단씸의 블로그"><span class=header-title-pre><i class='far fa-edit fa-fw'></i></span>일편단씸의 블로그</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=# class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a>
<a href=# class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=# class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><a class=menu-item href=/series/ title>Series</a><a href=# class="menu-item theme-select" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
<select class=color-theme-select id=theme-select-mobile title="Switch Theme"><option value=light>Light</option><option value=dark>Dark</option><option value=black>Black</option><option value=auto>Auto</option></select></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class="toc-content always-active" id=toc-content-auto><nav id=TableOfContents><ul><li><a href=#android-styling-prefer-theme-attributes>Android Styling: prefer theme attributes</a></li><li><a href=#qualified-colors>Qualified Colors?</a></li><li><a href=#always>Always?</a></li><li><a href=#state-of-the-art>State of the art</a></li><li><a href=#enforcement>Enforcement</a></li><li><a href=#be-indirect>Be Indirect</a></li></ul></nav></div></div><script>document.getElementsByTagName("main")[0].setAttribute("pageStyle","normal")</script><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC","true")</script><article class="page single"><h1 class="single-title animate__animated animate__flipInX">'Android Styling: prefer theme attributes' 번역</h1><div class=post-meta><div class=post-meta-line><span class=post-author><i class="author fas fa-user-circle fa-fw"></i><a href=/ title=Author rel=author class=author>일편단씸</a>
</span>&nbsp;<span class=post-category>included in </span>&nbsp;<span class=post-category>category <a href=/categories/android/><i class="far fa-folder fa-fw"></i>android</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-02-27>2021-02-27</time>&nbsp;<i class="far fa-edit fa-fw"></i>&nbsp;<time datetime=2021-02-27>2021-02-27</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;800 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;4 minutes&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#android-styling-prefer-theme-attributes>Android Styling: prefer theme attributes</a></li><li><a href=#qualified-colors>Qualified Colors?</a></li><li><a href=#always>Always?</a></li><li><a href=#state-of-the-art>State of the art</a></li><li><a href=#enforcement>Enforcement</a></li><li><a href=#be-indirect>Be Indirect</a></li></ul></nav></div></div><div class=content id=content><p>스터디 하면서 샘플 프로젝트 따라 해보다가, 조금 된 예제를 따라하다보니 뭔가 theme 관련해서 마음대로 안되는 상황이 왔습니다.</p><p>찾다보니 요 시리즈를 알아두면 되겠다 싶네요.</p><p>아래 포스트를 번역한 내용입니다.(안드로이드 공식 블로그인듯 합니다.)</p><p><a href=https://medium.com/androiddevelopers/android-styling-prefer-theme-attributes-412caa748774 target=_blank rel="noopener noreferrer">Android Stylling: prefer theme attributes</a></p><p><a class=lightgallery href=/images/logo/android.png title=android.png data-thumbnail=/images/logo/android.png><img loading=lazy src=/images/logo/android.png srcset="/images/logo/android.png, /images/logo/android.png 1.5x, /images/logo/android.png 2x" sizes=auto alt=/images/logo/android.png></a></p><br><hr><h2 id=android-styling-prefer-theme-attributes class=headerLink><a href=#android-styling-prefer-theme-attributes class=header-mark></a>Android Styling: prefer theme attributes</h2><p>Android styling에 관한 이 시리즈의 지난 포스트들에서,<br>theme과 style의 차이점을 알아봤고,<br>theme과 theme attribute들을 통해 변화를 줘야할 부분들을 별도로 분리하는 게 왜 좋은지 알아 봤습니다.</p><p><a href=https://medium.com/androiddevelopers/android-styling-themes-vs-styles-ebe05f917578 target=_blank rel="noopener noreferrer">Android Styling: Themes vs Styles</a>
<a href=https://medium.com/androiddevelopers/android-styling-common-theme-attributes-8f7c50c9eaba target=_blank rel="noopener noreferrer">Android Styling: Common Theme Attributes</a></p><p>이것은 변경을 theme으로 한정하고, 더 적은 layout과 style만 유지해도 되게 합니다.<br>실전에서, theme별로 색을 다르게 해야 하는 경우가 대부분이고, 이 때 <strong>항상*</strong> theme attribute를 참조해야 합니다.</p><blockquote><p>Always* refer to colors via theme attributes</p></blockquote><p>즉, 아래 코드는 문제가 될 수 있습니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=c>&lt;!-- Copyright 2019 Google LLC.    
</span></span></span><span class=line><span class=cl><span class=c>   SPDX-License-Identifier: Apache-2.0 --&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;View</span> <span class=err>…</span>
</span></span><span class=line><span class=cl>  <span class=na>android:background=</span><span class=s>&#34;@color/white&#34;</span><span class=nt>/&gt;</span>
</span></span></code></pre></div><br><p>대신에 theme attribute를 참조해야 합니다. 그래야 theme별로 색상에 변화를 줄 수 있습니다. 예를 들면 <a href=https://developer.android.com/guide/topics/ui/look-and-feel/darktheme target=_blank rel="noopener noreferrer">dark theme</a>에서 다른 값을 제공할 수 있죠.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=c>&lt;!-- Copyright 2019 Google LLC.    
</span></span></span><span class=line><span class=cl><span class=c>   SPDX-License-Identifier: Apache-2.0 --&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;View</span> <span class=err>…</span>
</span></span><span class=line><span class=cl>  <span class=na>android:background=</span><span class=s>&#34;?attr/colorSurface&#34;</span><span class=nt>/&gt;</span>
</span></span></code></pre></div><p>만드시는 앱이 아직 다른 theme을 지원하지 않더라도(아직 dark theme이 없어요?), 테마 작업을 훨씬 쉽게 해줄 이 접근법을 추천 합니다.</p><br><hr><h2 id=qualified-colors class=headerLink><a href=#qualified-colors class=header-mark></a>Qualified Colors?</h2><p>다른 설정에 다른 값을 제공하는 것으로도 색상에 변화를 줄 수 있습니다. (e.g. <code>@color/foo</code>를 <code>res/values/colors.xml</code>과 <code>res/values-night/colors.xml</code>에 각각 정의)</p><p>하지만, theme attribute를 쓰는걸 추천합니다.</p><p>color 계층의 변화를 주려면 <strong>의미있는 이름(semantic name)</strong> 을 부여해야 합니다. 즉, <code>@color/white</code>라고 이름지은 색을 <code>-night</code> 설정의 어두운 색으로 제공하지는 않을 겁니다 — 요렇게 하면 좀 헷갈릴 겁니다.</p><p>대신에 <code>@color/background</code>같은 semantic name을 쓰고 싶을 겁니다. 그런데, 이렇게 하면 색깔 선언과 값 제공이 같이 있다는 문제가 있습니다. 따라서 요건 theme별로 변화를 줄 수 없죠.<br> </p><p>또한, <code>@colors</code>에 변화를 주려면 보다 많은 색을 만들어야 합니다. 다른 상황이라서 실제 색이 같더라도 새로운 이름을 부여한다면(i.e. background는 아니지만 같은 색), 그래도 colors 파일에 entry를 추가해야 합니다.</p><p>theme attribute를 사용함으로써 semantic color의 선언을 실제 값 제공 부분과 분리할 수 있습니다. 호출부도 깔끔해지고 실제 색은 theme에 의해서 달라지죠 (<code>?attr/</code> 구문 사용).</p><p>색 선언을 문자 그대로의 값(literally named values)으로 유지함으로써, 사용할 색상들을 미리 정의하고 theme 레벨에서 변화를 주는게 편리해 집니다.</p><blockquote><p>Define a palette of colors used by your app and vary them at the theme level</p></blockquote><p>이 접근의 부가적인 이점은 이 색상들을 참조하는 layout과 style들의 재사용성이 좋아진다는 것입니다. theme은 overlaid 혹은 varied 될 수 있기에, 색상 변화를 위한 별도의 layout이나 style을 추가로 만들 필요가 없게 되지요 — 다른 theme에서 같은 layout을 사용할 수 있습니다.</p><br><hr><h2 id=always class=headerLink><a href=#always class=header-mark></a>Always?</h2><p>theme에 의해 색상 변화를 주고 싶지 않은 상황도 있기에, &ldquo;always* refer to colors via theme attributes&rdquo; 에 별표를 붙였습니다.</p><p>예를 들어, <a href=https://material.io/design/color/dark-theme.html#ui-application target=_blank rel="noopener noreferrer">Material Design guidelines</a> 에서 light theme과 dark theme에서 같은 brand color를 사용하는 경우를 보여줍니다.</p><p><a class=lightgallery href="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fcox2Dh%2FbtqYIjUVBkf%2FkkdawgkP5kncPzY0BoGCek%2Fimg.png" title=always? data-thumbnail="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fcox2Dh%2FbtqYIjUVBkf%2FkkdawgkP5kncPzY0BoGCek%2Fimg.png"><img loading=lazy src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fcox2Dh%2FbtqYIjUVBkf%2FkkdawgkP5kncPzY0BoGCek%2Fimg.png" srcset="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fcox2Dh%2FbtqYIjUVBkf%2FkkdawgkP5kncPzY0BoGCek%2Fimg.png, https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fcox2Dh%2FbtqYIjUVBkf%2FkkdawgkP5kncPzY0BoGCek%2Fimg.png 1.5x, https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fcox2Dh%2FbtqYIjUVBkf%2FkkdawgkP5kncPzY0BoGCek%2Fimg.png 2x" sizes=auto alt="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fcox2Dh%2FbtqYIjUVBkf%2FkkdawgkP5kncPzY0BoGCek%2Fimg.png"></a></p><p>이런 드문 경우에 대해서는, color resource를 바로 참조하는 것도 괜찮습니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=c>&lt;!-- Copyright 2019 Google LLC.    
</span></span></span><span class=line><span class=cl><span class=c>   SPDX-License-Identifier: Apache-2.0 --&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;FloatingActionButton</span> <span class=err>…</span>
</span></span><span class=line><span class=cl>  <span class=na>app:backgroundTint=</span><span class=s>&#34;@color/owl_pink_500&#34;</span><span class=nt>/&gt;</span>
</span></span></code></pre></div><br><hr><h2 id=state-of-the-art class=headerLink><a href=#state-of-the-art class=header-mark></a>State of the art</h2><p>layout/style에서 theme attribute를 사용하지 않을 수 있는 또 다른 상황은 <a href=https://developer.android.com/reference/android/content/res/ColorStateList target=_blank rel="noopener noreferrer">ColorStateList</a>들을 사용할 때 입니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=c>&lt;!-- Copyright 2019 Google LLC.    
</span></span></span><span class=line><span class=cl><span class=c>   SPDX-License-Identifier: Apache-2.0 --&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;View</span> <span class=err>…</span>
</span></span><span class=line><span class=cl>  <span class=na>android:background=</span><span class=s>&#34;@color/primary_20&#34;</span><span class=nt>/&gt;</span>
</span></span></code></pre></div><p>요것도 <code>primary_20</code>이 <code>ColorStateList</code>(내부적으로 theme attribute를 참조)라면 괜찮습니다 (아래 코드 참조). ColorStateList가 보통은 상태(pressed, disabled etc)에 따라 다른 색상을 나타내기 위해 사용되지만, 테마 작업에도 유용합니다.</p><p>알파 값을 지정할 수 있지요.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=c>&lt;!-- Copyright 2019 Google LLC.    
</span></span></span><span class=line><span class=cl><span class=c>   SPDX-License-Identifier: Apache-2.0 --&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;selector</span> <span class=err>…</span>
</span></span><span class=line><span class=cl>  <span class=err>&lt;item</span> <span class=na>android:alpha=</span><span class=s>&#34;0.20&#34;</span> <span class=na>android:color=</span><span class=s>&#34;?attr/colorPrimary&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/selector&gt;</span>
</span></span></code></pre></div><p>이런 종류의 single-item-<code>ColorStateList</code> (i.e. 한 가지 색만 존재함)는 유지해야할 color 리소스를 줄이는데 도움이 됩니다. primary color와 알파 값이 다른 별도의 색을 따로 정의하지 않고도 (per configuration!), 현재 theme의 colorPrimary이 뭐든지 간에 이를 대체할 수 있습니다. 만약 primary color가 바뀌면, 그냥 한 군데만 바꾸면 됩니다. 변경되어야할 모든 부분들을 추적할 필요가 없는거죠.</p><p>요게 유용하지만, 알아둬야할 몇 가지 경고사항이 있습니다.</p><ol><li>정의된 색도 알파 값을 가지면, 두 알파 값들은 조합됩니다. e.g. 50% 알파를 50% 불투명한 흰색에 적용하면 25% 흰색이 됩니다.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=c>&lt;!-- Copyright 2019 Google LLC.    
</span></span></span><span class=line><span class=cl><span class=c>   SPDX-License-Identifier: Apache-2.0 --&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;selector</span> <span class=err>…</span>
</span></span><span class=line><span class=cl>  <span class=err>&lt;item</span> <span class=na>android:alpha=</span><span class=s>&#34;0.50&#34;</span> <span class=na>android:color=</span><span class=s>&#34;#80ffffff&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/selector&gt;</span>
</span></span></code></pre></div><p>그래서, theme color는 완전 불투명한(fully opaque) 색으로 지정하고, 알파 값 조정은 <code>ColorStateList</code>로 하는 게 좋습니다.</p><ol start=2><li><p>alpha component는 API 23에서 추가되었습니다. min SDK가 더 낮다면, 이 동작의 백포트를 위해서 <a href=https://developer.android.com/reference/androidx/appcompat/content/res/AppCompatResources.html#getColorStateList%28android.content.Context,%20int%29 target=_blank rel="noopener noreferrer">AppCompatResources.getColorStateList</a>를 사용하셔야 합니다. (추가로 항상 <code>android:alpha</code> namespace를 사용해야 함. <code>app:alpha</code> namespace 말고)</p></li><li><p>가끔 아래 코드처럼 color를 drawable 자리에 사용하기도 합니다.</p></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=c>&lt;!-- Copyright 2019 Google LLC.    
</span></span></span><span class=line><span class=cl><span class=c>   SPDX-License-Identifier: Apache-2.0 --&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;View</span> <span class=err>…</span>
</span></span><span class=line><span class=cl>  <span class=na>android:background=</span><span class=s>&#34;@color/foo&#34;</span><span class=nt>/&gt;</span>
</span></span></code></pre></div><p><code>View</code>의 backgroud는 drawable이고, 이 편법은 해당 color를 <code>ColorDrawable</code>로 변환합니다. 하지만 <code>ColorStateList</code>는 <code>Drawable</code>로 변환할 방법이 없었습니다. (API 29에서 요 이슈 해결을 위해 <code>ColorStateListDrawable</code>이 도입됨)</p><p>요 제약사항은 아래처럼 우회할 수 있습니다.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=c>&lt;!-- Copyright 2019 Google LLC.    
</span></span></span><span class=line><span class=cl><span class=c>   SPDX-License-Identifier: Apache-2.0 --&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;View</span> <span class=err>…</span>
</span></span><span class=line><span class=cl>  <span class=na>android:background=</span><span class=s>&#34;@drawable/a_solid_white_rectangle_shape_drawable&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>app:backgroundTint=</span><span class=s>&#34;@color/some_color_state_list&#34;</span><span class=nt>/&gt;</span>
</span></span></code></pre></div><p>background tint가 해당 view 에서 요구하는 state들을 지원하는지 잘 확인해야 합니다. (예: disabled 되었을 때 바뀌어야 하는지)</p><br><hr><h2 id=enforcement class=headerLink><a href=#enforcement class=header-mark></a>Enforcement</h2><p>theme attribute와 ColorStateList를 사용해야 한다고 납득했다고 하더라도, 코드 전체 혹은 팀 전체에 강제하려면 어떻게 해야 할까요? 코드 리뷰를 꼼꼼히 하려고 노력할 수 있겠지만, 잘 되지 않죠. 더 좋은 접근법은 요걸 확인할 수 있는 툴을 사용하는 것입니다. 아래 글은 literal color 사용을 어떻게 lint check에 추가하는지 설명하고 있고, 이번 글에서 다룬 내용들에도 적용될 수 있습니다.</p><p><a href=https://proandroiddev.com/making-android-lint-theme-aware-6285737b13bc target=_blank rel="noopener noreferrer">https://proandroiddev.com/making-android-lint-theme-aware-6285737b13bc</a></p><p><a class=lightgallery href=https://miro.medium.com/max/720/1*LR0C_Cn5IUzyiWVRfvA-tg.png title=enforcement data-thumbnail=https://miro.medium.com/max/720/1*LR0C_Cn5IUzyiWVRfvA-tg.png><img loading=lazy src=https://miro.medium.com/max/720/1*LR0C_Cn5IUzyiWVRfvA-tg.png srcset="https://miro.medium.com/max/720/1*LR0C_Cn5IUzyiWVRfvA-tg.png, https://miro.medium.com/max/720/1*LR0C_Cn5IUzyiWVRfvA-tg.png 1.5x, https://miro.medium.com/max/720/1*LR0C_Cn5IUzyiWVRfvA-tg.png 2x" sizes=auto alt=https://miro.medium.com/max/720/1*LR0C_Cn5IUzyiWVRfvA-tg.png></a></p><br><hr><h2 id=be-indirect class=headerLink><a href=#be-indirect class=header-mark></a>Be Indirect</h2><p>theme attribute와 ColorStateList를 사용해서 color를 theme으로 뽑아 내는 것은, layout과 style을 더욱 더 유연하게 합니다. 재사용성을 높이고, 코드 베이스를 간결하고 유지보수가 용이하게 유지시켜 주죠.</p><p>다음 포스트에서는 theme 사용과 상호작용을 더 알아봅시다.</p><p><a href=https://medium.com/androiddevelopers/android-styling-themes-overlay-1ffd57745207 target=_blank rel="noopener noreferrer">Android Styling: themes overlay</a><br><a class=lightgallery href=https://miro.medium.com/max/720/1*_oRkdiiwzxsiEKUW-KSRXg.png title="themes overlay" data-thumbnail=https://miro.medium.com/max/720/1*_oRkdiiwzxsiEKUW-KSRXg.png><img loading=lazy src=https://miro.medium.com/max/720/1*_oRkdiiwzxsiEKUW-KSRXg.png srcset="https://miro.medium.com/max/720/1*_oRkdiiwzxsiEKUW-KSRXg.png, https://miro.medium.com/max/720/1*_oRkdiiwzxsiEKUW-KSRXg.png 1.5x, https://miro.medium.com/max/720/1*_oRkdiiwzxsiEKUW-KSRXg.png 2x" sizes=auto alt=https://miro.medium.com/max/720/1*_oRkdiiwzxsiEKUW-KSRXg.png></a></p><br><hr></div><h2>Related Content</h2><div class=related-container><div class=related-item-container><h2 class=related-title><a href=/2021-08-22_android-app-architecture/>안드로이드에서의 MVC, MVP, MVVM</a></h2></div><div class=related-item-container><h2 class=related-title><a href=/2021-08-21_ktlint/>Android Studio 프로젝트에 ktlint 적용</a></h2></div><div class=related-item-container><h2 class=related-title><a href=/2021-04-05_app-startup-time/>'App startup time' 요약</a></h2></div><div class=related-item-container><h2 class=related-title><a href=/2021-02-22_common-theme-attributes/>'Android styling: common theme attributes' 번역</a></h2></div><div class=related-item-container><h2 class=related-title><a href=/2021-02-18_themes-vs-styles/>'Android styling: themes vs styles' 번역</a></h2></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2021-02-27</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/android/>android</a>,&nbsp;<a href=/tags/theme/>theme</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/2021-02-27_halto-485/ class=prev rel=prev title="할투 '485. (투자입문) 안전자산이란 존재하는가?' 정리"><i class="fas fa-angle-left fa-fw"></i>할투 '485. (투자입문) 안전자산이란 존재하는가?' 정리</a>
<a href=/2021-04-05_app-startup-time/ class=next rel=next title="'App startup time' 요약">'App startup time' 요약<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments><div id=disqus_thread class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://disqus.com/?ref_noscript>Disqus</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreferrer" title="Hugo 0.101.0">Hugo</a>&nbsp;|&nbsp;Theme - <a href=https://github.com/HEIGE-PCloud/DoIt target=_blank rel="noopener noreferrer" title="DoIt 0.2.13"><i class="far fa-edit fa-fw"></i> DoIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2020 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank rel="noopener noreferrer">일편단씸</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class=footer-line></div><div class=footer-line></div></div></footer></div><div id=fixed-buttons><a href=#back-to-top id=back-to-top-button class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><div class=assets><link rel=stylesheet href=/lib/lightgallery/lightgallery.min.css><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/katex/copy-tex.min.css><noscript><link rel=stylesheet href=/lib/katex/copy-tex.min.css></noscript><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:30},comment:{},lightGallery:{actualSize:!1,exThumbImage:"data-thumbnail",hideBarsDelay:2e3,selector:".lightgallery",speed:400,thumbContHeight:80,thumbWidth:80,thumbnail:!0},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{distance:100,findAllMatches:!1,fuseIndexURL:"/index.json",highlightTag:"em",ignoreFieldNorm:!1,ignoreLocation:!1,isCaseSensitive:!1,location:0,maxResultLength:10,minMatchCharLength:2,noResultsFound:"No results found",snippetLength:30,threshold:.3,type:"fuse",useExtendedSearch:!1},table:{sort:!0}}</script><script type=text/javascript src=https://sshimnssso.disqus.com/embed.js defer></script><script type=text/javascript src=/lib/tablesort/tablesort.min.js></script><script type=text/javascript src=/lib/lightgallery/lightgallery.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-thumbnail.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js defer></script><script type=text/javascript src=/lib/katex/auto-render.min.js defer></script><script type=text/javascript src=/lib/katex/copy-tex.min.js defer></script><script type=text/javascript src=/lib/katex/mhchem.min.js defer></script><script type=text/javascript src=/js/katex.min.js defer></script><script type=text/javascript src=/js/theme.min.js defer></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-8QW1EZK13D",{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=G-8QW1EZK13D" async></script></div></body></html>